<resource schema="mars_craters">
 <meta name="title">Mars Craters</meta>
 <meta name="description" format="rst">
  A catalogue of Mars craters, extending from Robbins and Hynek
  (2012)'s catalog :bibcode:2012JGRE..117.5004R.  185 craters
  were added by Lagain et al (2020).  The object Ids in this
  table are compatible to Robbins and Hynek' catalog.
 </meta>
 <meta name="creationDate">2017-08-28T12:55:00</meta>
 <!-- Pick from http://www.ivoa.net/rdf/uat -->
 <meta name="subject">Mars</meta>
        <meta name="subject">crater</meta>
        <meta name="subject">geology, surface, topography</meta>
 <meta name="creator">Robbins, S.J.; Hynek, B.M.; Lagain, N.N.;
  Minin, M.</meta>
 <meta name="instrument">THEMIS Daytime IR</meta>
 <meta name="facility">Jacobs University</meta>
 <meta name="source">https://doi.org/10.1016/j.pss.2019.104755</meta>
 <meta name="contentLevel">Research</meta>
 <meta name="contentLevel">Amateur</meta>
 <meta name="type">Catalog</meta>
 <!-- the following is the output of
  select sum(smoc(6, s_region)) as cov
         from mars_craters_moc.epn_core
 on a moc-enabled crater catalogue.
  -->
  <meta name="coverage" refframe="Mars">0/4-5 8 1/0-2 4-6 12-14 24 28 37-39 41-42 45-46 2/12-14 28-30 37-39 44-46 60-62
  104 106 110 117 127 146-147 161-163 172 174 177-179 188-190 3/60 124 133 144 14
  6-147 165 167 173-175 188 252 400-402 405 407-408 410-411 414 428 430-431 433 43
  5-438 444-446 465 467 472-474 476-477 479-481 484 501 503 507 576 578 581-583 64
  0 643 694 700 702-703 707 765-767 4/244 246 248 500 504 506 524 528-529 540-541
  543 565-567 573-575 580 582-583 640-642 646 652-653 658 665 667 673 675-676 679
  683 686-687 689-691 756 758 760 1012 1017 1612-1614 1616-1618 1624-1625 1627 1636 1638-1639 1649 1651-1652 1654-1655 1660 1662-1663 1680-1682 1684-1685 1691 1717-1719 1728-1729 1738-1739 1756 1758 1788 1790-1791 1856-1857 1865-1866 1901-1903 1912-1913 1915 1930 1940-1942 1960 1962 1964-1965 1967-1969 1973 1975-1978 1981-1984 1991 1997 1999 2001 2003 2009-2011 2018 2021 2023 2026-2027 2308 2310 2317-2319 2321-2323 2565-2568 2571 2768-2770 2772-2773 2782 2804 2806 2816 2819 2821-2823 2827 3057-3059 5/980-982 990 996-998 1000-1002 1008 2004 2006 2008-2010 2012 2020 2029 2032 2042 2048 2050 2059 2065 2069-2073 2076 2079-2080 2082-2083 2088-2089 2092 2095 2100-2101 2104 2109 2121 2123-2126 2146 2149 2153 2158 2168-2169 2171 2178 2180 2182-2185 2187 2192 2195 2198-2201 2205-2207 2209 2217-2218 2220 2222-2223 2227 2229 2232 2234 2239 2241 2243 2248 2251 2254-2255 2257 2259 2273-2274 2278-2279 2285-2288 2290-2291 2325-2327 2573 2578-2581 2583 2588 2590-2591 2596 2599 2602 2616-2617 2619 2622-2624 2626-2627 2629 2631 2637-2639 2656 2658-2659 2665-2667 2689 2691 2697-2699 2708 2711 2714-2715 2720-2722 2724 2730-2731 2737-2739 2741-2743 2753-2755 3028-3030 3036 3038 3044-3046 3048-3050 3052 3054 4052-4054 4056-4058 4064 4066-4067 4072-4074 4077 4080 4082 4085 6460 6462 6478-6479 6504-6505 6507 6548 6550 6593 6603 6613 6644 6646-6647 6732 6734 6744-6745 6749 6751-6752 6754-6755 6758 6760 6762-6763 6772-6774 6782-6783 6864 6866-6867 6921-6925 6927 6947 6949-6951 7028-7029 7031 7156-7158 7432-7434 7436-7437 7439 7456 7458-7459 7468-7470 7600-7601 7656-7657 7715 7717-7719 7724 7726 7728-7730 7732-7733 7739 7742-7743 7772-7773 7776-7777 7780-7781 7783 7786 7790 7792 7794 7796 7798 7800 7803 7807-7810 7812 7815-7816 7818 7821-7822 7825-7829 7831-7832 7834-7835 7838 7844 7846-7847 7852-7854 7864-7865 7867 7880-7882 7885-7888 7890-7891 7896 7898 7916 7918-7920 7922-7923 7940-7942 7944-7945 7947-7948 7950 7952-7953 7955-7957 7959-7961 7963 7969 7972-7973 7976-7977 7979 7982-7983 7985 7987 7993 7995 8000-8001 8003 8009-8011 8032-8033 8035 8064 8066-8070 8076-8078 8080-8081 8083 8089-8091 8096 8099 8101-8103 9245-9247 9264-9266 9281 9283 10256-10257 10259 10277-10279 10281 10283 11084 11086-11087 11097 11100-11101 11120-11122 11125 11132 11134 11220-11222 11228 11230-11231 11268-11270 11272 11275 11280 11282-11283 11297-11301 11303-11305 11307 12224-12225 12227 6/3932-3933 3935 3952-3953 3955 3957-3959 3964 3966 3996-3998 4012 4016 4018 4031 4036-4038 4040-4041 4044 4074-4075 4078 8020-8022 8029 8046 8057 8059 8084-8085 8087-8088 8090 8093 8112 8114-8115 8120 8122 8132 8136-8138 8143 8151-8152 8154 8157 8159-8160 8162-8163 8165-8167 8172-8174 8176 8196-8197 8199 8205-8206 8208-8210 8213 8215-8216 8221 8224-8226 8228 8230-8232 8234 8244 8246-8247 8253 8255-8256 8258-8259 8264 8266-8267 8269 8273-8275 8296 8298-8299 8302 8309 8311-8313 8315 8324-8326 8336 8340 8342-8343 8346 8349 8351 8360-8362 8364-8365 8373-8375 8377 8379 8412-8413 8421-8426 8429 8432 8434-8435 8444 8481-8482 8489-8490 8508 8510-8511 8578-8581 8583 8588 8590-8592 8594-8595 8600 8605 8607-8609 8611 8620-8621 8623-8626 8628-8629 8631 8636-8638 8680 8704 8706-8707 8718-8719 8724-8726 8744 8746 8752-8754 8757-8759 8762 8764-8765 8773-8775 8778-8779 8784 8786-8787 8789-8791 8810-8811 8813-8814 8817-8819 8834 8840 8842 8845 8848 8850 8855-8857 8859 8864 8866-8867 8876 8878-8879 8887 8897-8898 8900 8902-8904 8907 8913 8915 8922 8924-8925 8932-8934 8944 8954 8961-8963 8970-8971 8976-8977 8979-8980 8982 8985-8987 8996 8998-9001 9003 9011 9014-9015 9027 9033 9089 9091 9101 9103 9106-9107 9109-9111 9123-9124 9126-9127 9129 9131-9132 9137 9139 9156-9157 9159 9296-9297 9299 10288 10290-10291 10296-10298 10300-10301 10303-10304 10309 10311 10328-10330 10357-10359 10368 10370 10372 10375 10381 10383 10389 10392 10394-10395 10403 10406-10407 10412-10413 10417-10421 10424-10425 10427 10430-10431 10472-10473 10475 10480-10482 10484-10485 10487 10500 10502 10512-10513 10515 10521 10523 10545-10547 10629-10631 10656-10658 10752-10753 10755 10760 10762-10763 10784-10785 10787 10836-10837 10839-10840 10842-10843 10848-10850 10852-10853 10855 10892-10894 10900-10901 10909-10914 10919 10945 10960-10962 11008-11010 12124 12126 12148 12150 12156 12188-12190 12205-12207 12220 12226 12232 12240 12249-12251 12254 12267 12270-12273 16220 16222 16236 16238 16240-16241 16260-16261 16263 16300-16302 16304 16306 16313-16316 16324 16326 16333-16335 16339 16345 16348-16350 16352-16354 16356 25846 25852 25854-25855 25904-25906 25908 25910-25911 26025-26027 26196-26198 26368-26369 26376 26378-26379 26381 26383 26400-26402 26405-26407 26410-26411 26448-26450 26458 26580 26582-26583 26932-26934 26940 26943 26984-26986 26989 26991-26993 27002-27003 27012 27014-27015 27025 27027-27028 27030-27031 27036-27038 27044 27046 27072 27074 27077 27080 27100 27104 27106 27111-27112 27114-27115 27117 27120-27121 27124 27126-27127 27461-27463 27680 27683 27704-27705 27707 27777 27779-27780 27782-27783 27785 27787 27793-27795 28120-28122 28146-28147 28150 28152-28153 28155-28156 28158-28159 28636-28637 29740-29742 29753-29755 29829 29831 29884-29885 29887 30409-30413 30415 30637-30639 30848-30850 30855 30857-30859 30865 30867 30900-30902 30908 30910 30924-30926 30936-30937 30939 30941-30942 30944 30946-30947 30952-30953 30955 31097 31100-31101 31112-31113 31115-31118 31137 31139-31140 31142 31149-31151 31157 31164 31166-31167 31172-31173 31175 31180 31182-31183 31188-31189 31191 31197 31199 31204-31206 31209 31216-31217 31219 31222-31226 31244-31246 31254-31256 31258-31259 31277-31281 31283 31293-31295 31297 31320-31321 31323 31332-31334 31346-31347 31349-31350 31356 31358-31359 31381-31383 31420-31421 31423 31464-31466 31534-31537 31539 31556 31558 31588-31590 31596-31597 31686-31687 31772-31774 31784-31785 31787 31797-31799 31804 31806 31816-31817 31832 31834-31835 31848-31849 31875 31880-31882 31884-31885 31897-31900 31902-31903 31914-31915 31920 31922-31925 31927 31938-31939 31944-31945 31947 31969-31970 31976 31978-31979 32008-32009 32011 32032 32034-32035 32136-32137 32139 32260 32262-32263 32284 32286 32316 32318-32319 32328-32329 32331 32353-32355 32388-32390 32392-32393 32395 32401-32403 36944 36946-36947 36949 36952 36959 36978-36979 37069-37071 37120-37121 37123 37129-37131 41105-41107 41120-41121 41123 41129-41131 44340 44342-44343 44396-44397 44399 44408 44410-44411 44413 44415 44492 44494-44498 44506 44511 44533 44535 44540-44542 44892 44895 44916 45084-45086 45092-45094 45096-45097 45124-45125 45127 45185-45187 45209-45211 45224-45226 48904 48906-48907</meta>

 <table id="epn_core" onDisk="true">
  <mixin spatial_frame_type="body" optional_columns="target_region">
   //epntap2#table-2_0
  </mixin>
  <stc>
   Polygon ICRS [s_region]
  </stc>
    <column
   name="radius"
   type="double precision"
   ucd="meta.note;meta.main"
   unit="m"
   tablehead="radius"
   verbLevel="1"
   description="radius from THEMIS IR"
  />
  <column
   name="type"
   type="integer"
   ucd="meta.note;meta.main"
   tablehead="type"
   verbLevel="1"
   description="Crater classification (int): 1=Valid, 2=Layered ejecta, 3=Ghost, 4=Secondary, 5=False detections."
  />
    <column
   name="status"
   type="text"
   ucd="meta.note;meta.main"
   tablehead="status"
   verbLevel="1"
   description="Crater classification."
  />
    <column
   name="LRD_MORPH"
   type="text"
   ucd="meta.note;meta.main"
   tablehead="Layered ejecta crater morphology"
   verbLevel="1"
   description="SLE : Single Layered Ejecta, DLE : Double Layered Ejecta MLE : Multiple Layered Ejecta, LARLE : Low-Aspect Ratio Layered Ejecta."
  />
    <column
   name="type"
   type="text"
   ucd="meta.note;meta.main"
   tablehead="type"
   verbLevel="1"
   description="1=Valid, 2=Layered ejecta, 3=Ghost, 4=Secondary, 5=False detections."
  />
    <column
   name="origin"
   type="text"
   ucd="meta.note;meta.main"
   tablehead="origin"
   verbLevel="1"
   description="Primary crater ID for secondary craters."
  />
    <column
   name="adding"
   type="text"
   ucd="meta.note;meta.main"
   tablehead="adding"
   verbLevel="1"
   description="null = Craters contained in the Robbins' database, 1 = Craters added by the reviewers"
  />
  <publish sets="ivo_managed,local"/>
 </table>

 <data id="import">
  <sources>data/data.csv</sources>
  <csvGrammar>
   <rowfilter procDef="//products#define">
    <bind name="table">"schema.epn_core"</bind>
   </rowfilter>
  </csvGrammar>
  <make table="epn_core">
   <rowmaker idmaps="*">
    <var key="granule_uid" source="CRATER_ID" />
    <var key="granule_gid">(@granule_uid)[:2]</var>
    <var key="obs_id">(@granule_uid)[-6:]</var>
    <var key="dataproduct_type">"ci"</var>
    <var key="measurement_type">"pos.bodyrc"</var>
    <var key="processing_level">"5"</var>
    <var key="target_name">"Mars"</var>
    <var key="target_class">"planet"</var>
    <var key="c1min" source="Lon" />
    <var key="c1max" source="Lon" />
    <var key="c2min" source="Y" />
    <var key="c2max" source="Y" />
    <var key="spatial_frame_type">"body"</var>
    <var key="radius" source="RADIUS" />
    <var key="s_region">pgsphere.SCircle(pgsphere.SPoint.fromDegrees(@c1min,@c2min),(@radius/(math.pi*3390.0*1000.0/180.0))*pgsphere.DEG).asPoly().asSTCS("UNKNOWNFrame")</var>
    <var key="instrument_host_name">"Mars Odyssey"</var>
    <var key="instrument_name">"THEMIS"</var>
    <var key="service_title">"Mars_craters_dev"</var>
    <var key="creation_date">"2018-01-12"</var>
    <var key="modification_date">"2018-01-26"</var>
    <var key="release_date">"2017-01-12"</var>
    <var key="target_region">"craters"</var>
    <var key="status" source="STATUS" />
    <var key="type" source="TYPE" />
    <var key="LRD_MORPH" source="LRD_MORPH" />
    <var key="adding" source="ADDING" />
    <var key="origin" source="ORIGIN" />

    <apply procDef="//epntap2#populate-2_0" name="fillepn">
     <bind name="granule_uid">@granule_uid</bind>
     <bind name="granule_gid">@granule_gid</bind>
     <bind name="obs_id">@obs_id</bind>
     <bind name="dataproduct_type">@dataproduct_type</bind>
     <bind name="measurement_type">@measurement_type</bind>
     <bind name="processing_level">@processing_level</bind>
     <bind name="target_name">@target_name</bind>
     <bind name="target_class">@target_class</bind>
     <bind name="c1min">@c1min</bind>
     <bind name="c1max">@c1max</bind>
     <bind name="c2min">@c2min</bind>
     <bind name="c2max">@c2max</bind>
     <bind name="s_region">@s_region</bind>
     <bind name="instrument_host_name">@instrument_host_name</bind>
     <bind name="instrument_name">@instrument_name</bind>
     <bind name="service_title">@service_title</bind>
     <bind name="creation_date">@creation_date</bind>
     <bind name="modification_date">@modification_date</bind>
     <bind name="release_date">@release_date</bind>
     <bind name="target_region">@target_region</bind>
    </apply>
   </rowmaker>
  </make>
 </data>
</resource>
